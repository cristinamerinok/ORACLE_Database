--- ( ESPAÑOL ) ---

DESCRIPCIÓN GENERAL
La base de datos Alimentación gestiona información sobre comidas, ingredientes y alérgenos. Registra también las relaciones entre ellos. Está diseñada para facilitar información útil a usuarios con alergias alimentarias, o para trabajadores del sector gastronómico. La base de datos incluye tablas relacionadas, vistas relevantes, búsquedas específicas y triggers para el control de datos.

ESTRUCTURA DE LA BASE DE DATOS
Tablas principales: 
· Ingredientes: Información de ingredientes (nombre, sabor, presencia de alérgenos). 
· Comidas: Registro de platos, incluyendo su tipo, descripción y origen. 
· Alergenos: Lista de posibles alérgenos alimenticios. 
· Comida_Ingredientes: Relación entre comidas y sus ingredientes. 
· Ingrediente_Alergenos: Relación entre ingredientes y alérgenos.
Triggers implementados:
· trg_comida_alergenos_check: Verifica si una comida contiene alérgenos al ser insertada.
· trg_ingrediente_alergenos_check: Controla que los ingredientes con alérgenos se registren adecuadamente.

DEPENDENCIAS ENTRE TABLAS
Relaciones clave: 
· Comida_Ingredientes enlaza Comidas e Ingredientes. 
· Ingrediente_Alergenos enlaza Ingredientes y Alergenos.

SCRIPTS INCLUIDOS
a. ORACLE - Crear BDD : Define y crea la estructura de la base de datos.

b. ORACLE - Insertar Registros : Carga los datos iniciales.

c. ORACLE - Vistas Relevantes : Incluye vistas para consultas que pueden ser recurrentes. 
  Ejemplo: 
  - Comidas sin ciertos alérgenos (vw_alergicos_gluten y vw_alergicos_huevo). 
  - Relación de comidas y alérgenos (vw_comidas_alergenos).

d. ORACLE - Búsquedas Relevantes : Incluye ejemplos de consultas avanzadas: 
  - Ingredientes relacionados con alérgenos. 
  - Comidas por tipo o contenido específico. 
  - Filtrado de postres sin huevo o comidas sin gluten.

e. ORACLE - Triggers, Funciones y Procedimientos : Incluye código para realizar automatizaciones: 
  - Trigger para flashear al usuario un nuevo ingrediente con alérgenos 
  - Función para listar alérgenos de una comida. 
  - Procedimiento para obtener ingredientes y alérgenos asociados a un plato.

REQUISITOS DEL ENTORNO
· Base de datos: Oracle Database 12c o superior.
· Herramienta de administración: SQL*Plus, SQL Developer o herramientas equivalentes.
· Recursos mínimos:
  - Memoria RAM: 2 GB o superior.
  - Espacio en disco: 500 MB mínimo para almacenar datos y archivos de sistema de Oracle.
  - Sistema operativo: Compatible con Oracle (Windows, Linux, macOS).

USO Y EJECUCIÓN
1.Crear la base de datos: Ejecutar a.ORACLE - Crear BDD.sql para definir las tablas.

2.Insertar registros iniciales: Ejecutar b.ORACLE - Insertar Registros.sql para cargar los registros.

3.Crear vistas: Ejecutar c.ORACLE - Vistas relevantes.sql para crear consultas predefinidas.

4.Consultas avanzadas: Consultar y aplicar ejemplos con d.ORACLE - Búsquedas relevantes.sql.

5.Implementar triggers: Ejecutar e.ORACLE - Triggers.sql para implementar y consultar los códigos disponibles.

EJEMPLO DE CONSULTA
Obtener todas las ensaladas: 
SELECT * FROM comidas WHERE LOWER(tipo) = 'ensalada';

Consultar la vista de comidas aptas para alérgicos al gluten: 
SELECT * FROM vw_alergicos_gluten;


ELECCIÓN DE LOS TIPOS DE DATOS UTILIZADOS
Por criterio personal, todas las tablas tienen una clave primaria numérica auto-generada e incremental
 (NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY)
Los datos se han definido con NUMBER
Los campos de las tablas se han definido sin tilde
Los datos se han definido con tildes
Por criterio personal, las relaciones entre tablas se han definido: 
· On delete set null
POSIBLES IMPLEMENTACIONES FUTURAS Añadir vistas de comidas clasificadas por continentes y países de origen. Expandir vistas para filtros basados en tipo de comida. Integrar soporte para diferentes idiomas en nombres y descripciones.
Small Oracle food database

--- ( ENGLISH ) ---

OVERVIEW
The Food database manages information about meals, ingredients and allergens. It also records the relationships between them. It is designed to provide useful information to users with food allergies, or to workers in the catering sector. The database includes related tables, relevant views, specific searches and triggers for data control.

DATABASE STRUCTURE
Main tables:
· Ingredientes: Information on ingredients (name, flavour, presence of allergens).
· Comidas: Record of dishes, including their type, description and origin.
· Alergenos: List of possible food allergens.
· comida_Ingredientes: Relationship between meals and their ingredients.
· Ingrediente_Alergenos: Relationship between ingredients and allergens.
Triggers implementados:
· trg_comida_alergenos_check: Checks if a meal contains allergens when inserted.
· trg_ingrediente_alergenos_check: Checks that ingredients with allergens are recorded properly.

DEPENDENCIES BETWEEN TABLES
Key relationships:
· Comida_Ingredientes links Meals and Ingredients.
· Ingrediente_Alergenos links Ingredients and Allergens.

INCLUDED SCRIPTS
a. ORACLE - Crear_BDD : Defines and creates the database structure.

b. ORACLE - Insertar Registros : Loads the initial data.

c. ORACLE - Vistas Relevantes : Includes views for queries that can be recurring.
Example:
- Meals without certain allergens (vw_alergicos_gluten and vw_alergicos_huevo).
- List of meals and allergens (vw_comidas_alergenos).

d. ORACLE - Busquedas relevantes : Includes examples of advanced queries:
- Ingredients related to allergens.
- Meals by type or specific content.
- Filtering egg-free desserts or gluten-free meals.

e. ORACLE - Triggers : Includes code to perform automations:
- Trigger to flash the user a new ingredient with allergens
- Trigger to flash the user a new meal with allergens


ENVIRONMENT REQUIREMENTS
· Database: Oracle Database 12c or higher.
· Administration tool: SQL*Plus, SQL Developer or equivalent tools.
· Minimum resources:
- RAM memory: 2 GB or higher.
- Disk space: 500 MB minimum to store data and Oracle system files.
- Operating system: Compatible with Oracle (Windows, Linux, macOS).

USE AND EXECUTION
1.Create the database: Execute a.ORACLE - Crear BDD.sql to define the tables.

2.Insert initial records: Execute b.ORACLE - Insertar Registros.sql to load the records.

3.Create views: Execute c.ORACLE - Vistas Relevantes.sql to create predefined queries.

4.Advanced queries: Consult and apply examples with d.ORACLE - Busquedas Relevantes.sql.

5.Implement triggers: Execute e.ORACLE - Triggers.sql to implement and consult the available codes.

QUERY EXAMPLE
Get all salads:
SELECT * FROM comidas WHERE LOWER(type) = 'ensalada';

Query the gluten allergy friendly meals view:
SELECT * FROM vw_alergicos_gluten;

CHOOSING THE DATA TYPES USED
At my discretion, all tables have an auto-generated and incremental numeric primary key
(NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY)
The numeric data have been defined with NUMBER
The fields in the tables have been defined without accents
The data has been defined with accents
At my discretion, the relationships between tables have been defined:
· On delete set null
POSSIBLE FUTURE IMPLEMENTATIONS Add views of meals classified by continents and countries of origin. Expand views for filters based on food type. Integrate support for different languages ​​in names and descriptions.
